<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:Auto_Auction.ViewModels"
             mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="400"
             x:Class="Auto_Auction.Controls.UserProfileView"
             x:DataType="vm:UserProfileViewModel">

	<Border Padding="16" CornerRadius="6" BorderThickness="1">
		<StackPanel Orientation="Vertical" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">

			<!-- Header -->
			<TextBlock Text="Your Profile"
                       FontSize="24" FontWeight="Bold"
                       HorizontalAlignment="Center" Margin="0,0,0,16"/>

			<!-- Profilindhold -->
			<StackPanel Spacing="12">

				<!-- Username -->
				<StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
					<TextBlock Text="Username:" VerticalAlignment="Center"/>
					<TextBlock Text="{Binding CurrentUser.UserName}" VerticalAlignment="Center" FontWeight="SemiBold"/>
				</StackPanel>

				<!-- Password change -->
				<StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
					<TextBlock Text="Password:" VerticalAlignment="Center"/>
					<TextBox Width="220" Watermark="New password"
                             Text="{Binding NewPassword, Mode=TwoWay}" />
					<Button Content="Update password" Command="{Binding ChangePasswordCommand}"
                            Width="140"/>
				</StackPanel>

				<!-- Balance -->
				<StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
					<TextBlock Text="Balance:" VerticalAlignment="Center"/>
					<TextBlock Text="{Binding Balance}" VerticalAlignment="Center" FontWeight="SemiBold"/>

					<StackPanel Orientation="Horizontal" Spacing="6" IsVisible="{Binding IsCorp}">
						<TextBox Width="100" Watermark="Amount"
                                 Text="{Binding DepositAmount, Mode=TwoWay}" />
						<Button Content="Deposit" Command="{Binding DepositCommand}" />
					</StackPanel>
				</StackPanel>

				<!-- Dumb way to create space -->
				<StackPanel VerticalAlignment="Stretch" />
				<StackPanel VerticalAlignment="Stretch" />
				<StackPanel VerticalAlignment="Stretch" />
				<StackPanel VerticalAlignment="Stretch" />

				<!-- Statistics -->
				<StackPanel Orientation="Horizontal" Spacing="16" VerticalAlignment="Center">
					<TextBlock Text="Auctions created:" />
					<TextBlock Text="{Binding AuctionsCreated}" FontWeight="SemiBold"/>
					<TextBlock Text="Auctions won:" Margin="20,0,0,0"/>
					<TextBlock Text="{Binding AuctionsWon}" FontWeight="SemiBold"/>
				</StackPanel>

				<!-- Status message -->
				<TextBlock Text="{Binding StatusMessage}" Foreground="Gray" FontSize="12" Margin="0,8,0,0"/>
			</StackPanel>

			<!-- Back-knap -->
			<Button Content="Back"
                    Width="80"
                    HorizontalAlignment="Left"
                    Margin="0,16,0,0"/>
		</StackPanel>
	</Border>
</UserControl>
